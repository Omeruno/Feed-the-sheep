<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Пастух</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="loading-screen">
        <div id="loading-background"></div>
        <div id="loading-text" data-translate-key="loading">ЗАГРУЗКА</div>
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
    </div>
    
    <!-- ДИАЛОГОВОЕ ОКНО С ДЕДОМ -->
    <div id="grandfather-dialogue" class="hidden">
        <div class="dialogue-box">
            <img src="images/grandfather/grandfather.png" alt="Дед" class="character-image">
            <div class="text-content">
                <p id="dialogue-text"></p>
                <button id="dialogue-continue" class="hidden" data-translate-key="dialogue_continue">Продолжить</button>
            </div>
        </div>
    </div>


    <div id="game-container" style="display: none;">
        <div id="game-world">
            <div id="bg-1" class="background-layer"></div>
            <div id="bg-2" class="background-layer"></div>
            <div id="cloud-layer"></div>
            <div id="grass-layer"></div>
            
            <!-- Сюда будут добавляться овцы, волки, дом и постройки -->
        </div>
        
        <div id="ui-layer">
            <button id="god-button" class="ui-element">GOD</button>
            <!-- Сообщение для игрока -->
            <div id="player-message"></div>

            <div id="top-left-ui">
                <div id="resources-panel-container">
                    <button id="resources-toggle-button" class="ui-element"></button>
                    <div id="resources-container">
                        <div id="wood-counter" class="ui-element resource-counter">
                            <img src="images/tree/tree.png" alt="Дерево">
                            <span id="wood-amount">10</span>
                        </div>
                        <div id="brick-counter" class="ui-element resource-counter">
                            <img src="images/brick/brick.png" alt="Кирпич">
                            <span id="brick-amount">0</span>
                        </div>
                        <div id="wool-counter" class="ui-element resource-counter">
                            <img src="images/wool/wool.png" alt="Шерсть">
                            <span id="wool-amount">0</span>
                        </div>
                        <div id="skin-counter" class="ui-element resource-counter">
                            <img src="images/skin/skin.png" alt="Шкура">
                            <span id="skin-amount">0</span>
                        </div>
                        <div id="egg-counter" class="ui-element resource-counter">
                            <img src="images/chicken/egg.png" alt="Яйцо">
                            <span id="egg-amount">0</span>
                        </div>
                        <div id="milk-counter" class="ui-element resource-counter">
                            <img src="images/icons/milk.png" alt="Молоко">
                            <span id="milk-amount">0</span>
                        </div>
                        <div id="meat-counter" class="ui-element resource-counter">
                            <img src="images/pig/meat.png" alt="Мясо">
                            <span id="meat-amount">0</span>
                        </div>
                        <div id="fox-skin-counter" class="ui-element resource-counter">
                            <img src="images/fox/fox_skin.png" alt="Шкура Лисы">
                            <span id="fox-skin-amount">0</span>
                        </div>
                        <div id="bear-skin-counter" class="ui-element resource-counter">
                            <img src="images/bear/bear_skin.png" alt="Шкура Медведя">
                            <span id="bear-skin-amount">0</span>
                        </div>
                         <div id="grass-seed-counter" class="ui-element resource-counter">
                            <img src="images/icons/grass_icon.png" alt="Семена травы">
                            <span id="grass-seed-amount">0</span>
                        </div>
                        <div id="hay-seed-counter" class="ui-element resource-counter">
                            <img src="images/icons/rostock_small.png" alt="Семена сена">
                            <span id="hay-seed-amount">0</span>
                        </div>
                        <div id="pig-food-counter" class="ui-element resource-counter">
                            <img src="images/pig/piggy_food.png" alt="Еда для свиней">
                            <span id="pig-food-amount">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="top-right-ui">
                <div id="gold-counter" class="ui-element resource-counter">
                    <img src="images/gold/gold.png" alt="Золото">
                    <span id="gold-amount">500</span>
                </div>
                <button id="shop-button" class="ui-element tool-button"></button>
                <button id="settings-button" class="ui-element tool-button"></button>
                <!-- Контейнер инвентаря -->
                <div id="main-actions-container">
                    <button id="menu-toggle-button" class="ui-element tool-button"></button>
                    <div id="action-buttons-panel">
                        <button id="sawmill-button" class="ui-element tool-button hidden"></button>
                        <button id="rock-button" class="ui-element tool-button hidden"></button>
                        <button id="repair-button" class="ui-element tool-button hidden"></button>
                        <button id="trough-button" class="ui-element tool-button hidden"></button>
                        <button id="piggy-food-button" class="ui-element tool-button hidden"></button>
                        <button id="hay-button" class="ui-element tool-button hidden"></button>
                        <button id="grass-button" class="ui-element tool-button hidden"></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ОКНО МАГАЗИНА -->
        <div id="shop-menu" class="hidden">
            <img src="images/shop/shop_menu.png" class="shop-background" alt="Меню магазина">
            <div class="shop-content">
                <button id="close-shop-button">X</button>
                
                <div id="shop-player-resources">
                    <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> <span id="shop-gold">30</span></span>
                    <span class="cost-resource"><img src="images/tree/tree.png" alt="wood"> <span id="shop-wood">10</span></span>
                    <span class="cost-resource"><img src="images/brick/brick.png" alt="brick"> <span id="shop-brick">0</span></span>
                </div>

                <div class="shop-tabs">
                    <button class="shop-tab-button active" data-tab="upgrades"><span data-translate-key="shop_upgrades_title">Улучшения</span></button>
                    <button class="shop-tab-button" data-tab="buy"><span data-translate-key="shop_buy_title">Купить</span></button>
                    <button class="shop-tab-button" data-tab="house"><span data-translate-key="shop_house_title">Дом</span></button>
                    <button class="shop-tab-button" data-tab="buildings"><span data-translate-key="shop_buildings_title">Сооружения</span></button>
                </div>

                <!-- ВКЛАДКА УЛУЧШЕНИЙ -->
                <div id="shop-tab-upgrades" class="shop-tab-content active">
                    <div class="shop-items">
                        <button class="shop-item hidden" id="upgrade-sawmill-button" data-item="upgrade_sawmill">
                            <span class="item-name" data-translate-key="shop_upgrade_sawmill_lvl">Улучшить Лесопилку (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 100</span>
                            </div>
                        </button>
                        <button class="shop-item hidden" id="upgrade-rock-button" data-item="upgrade_rock">
                            <span class="item-name" data-translate-key="shop_upgrade_rock_lvl">Улучшить Карьер (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 200</span>
                            </div>
                        </button>
                        <hr id="upgrades-separator" class="hidden">
                         <button class="shop-item hidden" id="upgrade-pig-button" data-item="upgrade_pig">
                            <span class="item-name" data-translate-key="shop_upgrade_pig_lvl">Улучшить Свинью (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 180</span>
                            </div>
                        </button>
                        <button class="shop-item hidden" id="upgrade-trough-button" data-item="upgrade_trough">
                            <span class="item-name" data-translate-key="shop_upgrade_trough_lvl">Улучшить Кормушку (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 80</span>
                            </div>
                        </button>
                        <button class="shop-item hidden" id="upgrade-sheep-button" data-item="upgrade_sheep">
                            <span class="item-name" data-translate-key="shop_upgrade_sheep_lvl">Улучшить Овцу (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 150</span>
                            </div>
                        </button>
                         <button class="shop-item hidden" id="upgrade-cow-button" data-item="upgrade_cow">
                            <span class="item-name" data-translate-key="shop_upgrade_cow_lvl">Улучшить Корову (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 250</span>
                            </div>
                        </button>
                        <button class="shop-item" id="upgrade-chicken-button" data-item="upgrade_chicken">
                            <span class="item-name" data-translate-key="shop_upgrade_chicken_lvl">Улучшить Курицу (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 100</span>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- ВКЛАДКА ПОКУПОК -->
                <div id="shop-tab-buy" class="shop-tab-content">
                    <div class="shop-subsection">
                        <h3 data-translate-key="shop_buy_animals" class="shop-subsection-toggle">Животные</h3>
                        <div class="shop-items-container">
                            <div class="shop-items">
                                <button class="shop-item" id="buy-pig-button" data-item="buy_pig">
                                    <span class="item-name" data-translate-key="shop_buy_pig">Купить Свинью</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 120</span>
                                    </div>
                                </button>
                                <button class="shop-item" id="buy-cow-button" data-item="buy_cow">
                                    <span class="item-name" data-translate-key="shop_buy_cow">Купить Корову</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 200</span>
                                    </div>
                                </button>
                                <button class="shop-item" id="buy-sheep-button" data-item="buy_sheep">
                                    <span class="item-name" data-translate-key="shop_buy_sheep">Купить Овцу</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 50</span>
                                    </div>
                                </button>
                                <button class="shop-item" id="buy-chicken-button" data-item="buy_chicken">
                                    <span class="item-name" data-translate-key="shop_buy_chicken">Купить Курицу</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 25</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="shop-subsection">
                        <h3 data-translate-key="shop_buy_food" class="shop-subsection-toggle">Еда</h3>
                        <div class="shop-items-container">
                            <div class="shop-items">
                                 <button class="shop-item" data-item="buy_piggy_food" data-cost-gold="15">
                                    <span class="item-name" data-translate-key="shop_buy_piggy_food">Еда для свиней (x1)</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 15</span>
                                    </div>
                                </button>
                                <button class="shop-item" data-item="buy_grass_seed" data-cost-gold="10">
                                    <span class="item-name" data-translate-key="shop_buy_grass_seed">Семена травы (x10)</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 10</span>
                                    </div>
                                </button>
                                 <button class="shop-item" data-item="buy_hay_seed" data-cost-gold="20">
                                    <span class="item-name" data-translate-key="shop_buy_hay_seed">Семена сена (x10)</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 20</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="shop-subsection">
                        <h3 data-translate-key="shop_buy_materials" class="shop-subsection-toggle">Материалы</h3>
                        <div class="shop-items-container">
                            <div class="shop-items">
                                <button class="shop-item" data-item="buy_hammer" data-cost-gold="75">
                                    <span class="item-name" data-translate-key="shop_buy_hammer">Купить Молот</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 75</span>
                                    </div>
                                </button>
                                <button class="shop-item" data-item="buy_trough" data-cost-gold="40">
                                    <span class="item-name" data-translate-key="shop_buy_trough">Купить Кормушку</span>
                                    <div class="item-cost">
                                        <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 40</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ВКЛАДКА ДОМА -->
                <div id="shop-tab-house" class="shop-tab-content">
                    <h4>Вместимость: <span id="animal-capacity-info">1/3</span></h4>
                    <div class="shop-items">
                         <button class="shop-item" data-item="house_1" data-cost-gold="500" data-capacity="5">
                            <span class="item-name" data-translate-key="shop_house1_name">Дом 1 (+5 мест)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 500</span>
                            </div>
                        </button>
                        <button class="shop-item" data-item="house_2" data-cost-gold="100" data-cost-wood="40" data-capacity="7">
                             <span class="item-name" data-translate-key="shop_house2_name">Дом 2 (+7 мест)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 100</span>
                                <span class="cost-resource"><img src="images/tree/tree.png" alt="wood"> 40</span>
                            </div>
                        </button>
                        <button class="shop-item" data-item="house_3" data-cost-gold="200" data-cost-wood="60" data-capacity="10">
                             <span class="item-name" data-translate-key="shop_house3_name">Дом 3 (+10 мест)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 200</span>
                                <span class="cost-resource"><img src="images/tree/tree.png" alt="wood"> 60</span>
                            </div>
                        </button>
                        <button class="shop-item" data-item="house_4" data-cost-gold="400" data-cost-wood="100" data-cost-brick="50" data-capacity="15">
                             <span class="item-name" data-translate-key="shop_house4_name">Дом 4 (+15 мест)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 400</span>
                                <span class="cost-resource"><img src="images/tree/tree.png" alt="wood"> 100</span>
                                <span class="cost-resource"><img src="images/brick/brick.png" alt="brick"> 50</span>
                            </div>
                        </button>
                        <hr>
                        <button class="shop-item hidden" id="upgrade-autofarm-button" data-item="upgrade_autofarm">
                            <span class="item-name" data-translate-key="shop_upgrade_autofarm_lvl">Авто-Фарм (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 100</span>
                            </div>
                        </button>
                        <button class="shop-item hidden" id="upgrade-clickfarm-button" data-item="upgrade_clickfarm">
                            <span class="item-name" data-translate-key="shop_upgrade_clickfarm_lvl">Клик-Фарм (Ур. 2)</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 50</span>
                            </div>
                        </button>
                    </div>
                </div>
                
                <!-- ВКЛАДКА СООРУЖЕНИЯ -->
                <div id="shop-tab-buildings" class="shop-tab-content">
                     <div class="shop-items">
                         <button class="shop-item" data-item="buy_sawmill">
                            <span class="item-name" data-translate-key="shop_buy_sawmill">Купить Лесопилку</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 250</span>
                            </div>
                        </button>
                        <button class="shop-item" data-item="buy_rock">
                            <span class="item-name" data-translate-key="shop_buy_rock">Купить Карьер</span>
                            <div class="item-cost">
                                <span class="cost-resource"><img src="images/gold/gold.png" alt="gold"> 400</span>
                            </div>
                        </button>
                     </div>
                </div>

                <button class="shop-item sell-all-button" data-item="sell_all">
                    <span class="item-name" data-translate-key="shop_sell_all">Продать Всё</span>
                </button>
            </div>
        </div>
        
        <!-- ОКНО НАСТРОЕК -->
        <div id="settings-menu" class="hidden">
             <div class="settings-content">
                <h2 data-translate-key="settings_title">Настройки</h2>
                <div class="setting-row">
                    <span data-translate-key="settings_sound">Звук</span>
                    <button class="settings-toggle" id="sound-toggle-button" data-setting="sound">ВКЛ</button>
                </div>
                <div class="setting-row">
                    <span data-translate-key="settings_music">Музыка</span>
                    <button class="settings-toggle" id="music-toggle-button" data-setting="music">ВКЛ</button>
                </div>
                <div class="setting-row">
                    <span data-translate-key="settings_language">Язык</span>
                    <button class="settings-toggle" id="language-toggle-button" data-setting="language">RUS</button>
                </div>
                <button id="close-settings-button" data-translate-key="settings_close">Закрыть</button>
            </div>
        </div>

        <div id="game-over-screen" class="hidden">
            <div class="game-over-box">
                <h1 data-translate-key="game_over_title">ИГРА ОКОНЧЕНА</h1>
                <p data-translate-key="game_over_subtitle">Всех ваших животных украли!</p>
                <button id="restart-button" data-translate-key="game_over_restart">Начать заново</button>
            </div>
        </div>

    </div>

    <!-- Аудиофайлы -->
    <audio id="background-melody" src="sound/fon.mp3" loop></audio>
    <audio id="day-sound" src="sound/day_sound.mp3" loop></audio>
    <audio id="night-song" src="sound/night_song.mp3" loop></audio>
    <audio id="sheep-sound" src="sound/sheep_sound.mp3"></audio>
    <audio id="plant-sound" src="sound/plant_sound.mp3"></audio>
    <audio id="eat-sound" src="sound/eat_sound.mp3"></audio>
    <audio id="wolf-attack-sound" src="sound/wolf_attak.mp3"></audio>
    <audio id="wolf-dead-sound" src="sound/wolf_dead.mp3"></audio>
    <audio id="chicken-sound" src="sound/chicken.mp3"></audio>
    <audio id="chicken-ambient-sound" src="sound/chicken_1.mp3"></audio>
    <audio id="cow-ambient-sound" src="sound/cow.mp3"></audio>
    <audio id="click-sound" src="sound/click.mp3"></audio>
    <audio id="fox-sound" src="sound/fox.mp3"></audio>
    <audio id="bear-sound" src="sound/bear.mp3"></audio>
    <audio id="bear-attack-sound" src="sound/bear_attack.mp3"></audio>
    <audio id="bear-damage-sound" src="sound/bear_damage.mp3"></audio>
    <audio id="damage-house-sound" src="sound/damage_house.mp3"></audio>


    <script src="js/classes.js"></script>
    <script src="js/newclass.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/script.js"></script>
</body>
</html>

